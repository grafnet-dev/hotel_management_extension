<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_form_hotel_room_inherit_extension" model="ir.ui.view">
        <field name="name">hotel.room.view.form.inherit.extension</field>
        <field name="model">hotel.room</field>
        <field name="inherit_id" ref="hotel_management_odoo.hotel_room_view_form" />
        <field name="arch" type="xml">
            <!-- Ne pas supprimer le champ d'origine pour √©viter l'erreur sur le champ image -->
            <!-- <xpath expr="//field[@name='room_image']" position="replace"/> -->
            <!-- 1. Supprimer le champ image d'origine -->
            <!-- <xpath expr="//field[@name='room_image']" position="replace"/> -->
            <!-- Au lieu de remplacer le champ, vous pourriez le masquer -->
            <!-- Ou masquer le champ original si vous pr√©f√©rez -->
            <xpath expr="//field[@name='room_image']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <!-- Masquer le champ list_price existant -->
            <xpath expr="//field[@name='list_price']" position="attributes">
                <attribute name="invisible">0</attribute>
            </xpath>
            <!-- Ajout des nouveaux onglets dans le notebook -->
            <xpath expr="//notebook" position="inside">

                <!-- üí∞ Onglet Tarification -->
                <page string="Tarification" name="pricing">
                    <group>
                        <group string="Configuration des tarifs">
                            <div class="alert alert-info" role="alert">
                                <strong>üí° Information :</strong><br /> ‚Ä¢ D√©finissez un tarif pour
                                chaque type de r√©servation accept√©<br /> ‚Ä¢ Les tarifs horaires ne
                                s'appliquent qu'aux types flexibles<br /> ‚Ä¢ Les majorations de nuit
                                s'appliquent entre 22h et 6h </div>
                        </group>
                    </group>

                    <field name="room_pricing_ids">
                        <!-- Utilisation de la vue s√©par√©e -->
                    </field>
                </page>


                <page string="Types de R√©servation" name="reservation">
                    <group>
                        <group string="Types Accept√©s">
                            <field name="reservation_type_ids"
                                widget="many2many_tags"
                                options="{'no_create_edit': True}" />
                        </group>
                    </group>

                    <separator string="Cr√©neaux Horaires" />
                    <!-- Section pour g√©rer les cr√©neaux -->


                    <!-- Message d'aide -->
                    <div class="alert alert-info" role="alert" style="margin-top: 10px;">
                        <strong>üí° Aide :</strong><br /> ‚Ä¢ <em>Flexible</em> : Pas besoin de
                        cr√©neaux horaires<br /> ‚Ä¢ <em>Nuit√©e/Day Use</em> : D√©finissez les cr√©neaux
                        horaires<br /> ‚Ä¢ Vous pouvez avoir plusieurs cr√©neaux pour un m√™me type </div>
                </page>


                <!-- üí° Onglet Images -->
                <page string="Images">
                    <field name="room_image_ids">
                        <!-- Changement de tree √† list -->
                        <list editable="bottom">
                            <field name="image" widget="image" />
                            <field name="description" />
                        </list>
                    </field>
                </page>


                <!-- üõ† Maintenance -->
                <page string="Maintenance">
                    <group>
                        <field name="is_in_maintenance" />
                        <field name="maintenance_notes" />
                        <field name="last_maintenance_date" />
                        <field name="next_maintenance_date" />
                    </group>
                </page>
                <!-- üß≥ Commodit√©s -->
                <page string="Commodit√©s">
                    <field name="room_amenities_ids"
                        context="{'default_type': 'room'}"
                        options="{'no_create': False}"
                        widget="many2many_tags" />
                </page>
                <!-- üõèÔ∏è Confort -->
                <page string="Confort">
                    <group>
                        <field name="bed_type" />
                        <field name="surface_area" />
                        <field name="flooring_type" />
                        <field name="view_type" />
                    </group>
                    <group>
                        <field name="is_smoking_allowed" />
                        <field name="is_pets_allowed" />
                    </group>
                </page>
            </xpath>
        </field>
    </record>
</odoo>