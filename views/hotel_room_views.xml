<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_form_hotel_room_inherit_extension" model="ir.ui.view">
        <field name="name">hotel.room.view.form.inherit.extension</field>
        <field name="model">hotel.room</field>
        <field name="inherit_id" ref="hotel_management_odoo.hotel_room_view_form" />
        <field name="arch" type="xml">
            <!-- Ne pas supprimer le champ d'origine pour Ã©viter l'erreur sur le champ image -->
            <!-- <xpath expr="//field[@name='room_image']" position="replace"/> -->
            <!-- 1. Supprimer le champ image d'origine -->
            <!-- <xpath expr="//field[@name='room_image']" position="replace"/> -->
            <!-- Au lieu de remplacer le champ, vous pourriez le masquer -->
            <!-- Ou masquer le champ original si vous prÃ©fÃ©rez -->
            <xpath expr="//field[@name='room_image']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <!-- Masquer le champ list_price existant -->
            <xpath expr="//field[@name='list_price']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <!-- ðŸ” Mise Ã  jour de l'onglet Information -->
            <xpath expr="//page[@name='information_hotel_room']/group/group[2]" position="inside">
                <!-- Ajout is_day_use ici dans la section information -->
                <field name="is_day_use" />
            </xpath>
            <!-- ðŸ’¡ Onglet Images -->
            <xpath expr="//notebook" position="inside">
                <!-- ðŸ–¼ï¸ Galerie d'images -->
                <page string="Images">
                    <field name="room_image_ids">
                        <!-- Changement de tree Ã  list -->
                        <list editable="bottom">
                            <field name="image" widget="image" />
                            <field name="description" />
                        </list>
                    </field>
                </page>

                <!-- ðŸ’° Tarification 
                <page string="Tarification">
                    <group>
                        <field name="price_per_night" widget="monetary"/>
                        <field name="is_day_use"/>
                        <field name="day_use_price" widget="monetary" invisible_if="not is_day_use"/>
                        <field name="hourly_rate" widget="monetary"/>
                    </group>
                    <group>
                        <field name="day_use_check_in" invisible_if="not is_day_use"/>
                        <field name="day_use_check_out" invisible_if="not is_day_use"/>
                    </group>
                </page>-->
                <!-- ðŸ”§ Onglet Tarification -->
                <page string="Tarification">
                    <group>
                        <field name="price_per_night" widget="monetary" />
                        <field name="hourly_rate" widget="monetary" />
                        <field name="day_use_price" widget="monetary"
                            invisible="not is_day_use" />
                    </group>
                </page>

                <!-- ðŸ›  Maintenance -->
                <page string="Maintenance">
                    <group>
                        <field name="is_in_maintenance" />
                        <field name="maintenance_notes" />
                        <field name="last_maintenance_date" />
                        <field name="next_maintenance_date" />
                    </group>
                </page>

                <!-- ðŸ•“ Horaires par dÃ©faut -->
                <page string="Horaires">
                    <group>
                        <field name="default_check_in_time" widget="time" />
                        <field name="default_check_out_time" widget="time" />
                    </group>
                    <group invisible="not is_day_use">
                        <field name="day_use_check_in" widget="time" />
                        <field name="day_use_check_out" widget="time" />
                    </group>
                </page>
                <!-- ðŸ§³ CommoditÃ©s -->
                <page string="CommoditÃ©s">
                    <field name="room_amenities_ids"
                        context="{'default_type': 'room'}"
                        options="{'no_create': False}"
                        widget="many2many_tags" />
                </page>
                <!-- ðŸ›ï¸ Confort -->
                <page string="Confort">
                    <group>
                        <field name="bed_type" />
                        <field name="surface_area" />
                        <field name="flooring_type" />
                        <field name="view_type" />
                    </group>
                    <group>
                        <field name="is_smoking_allowed" />
                        <field name="is_pets_allowed" />
                    </group>
                </page>
            </xpath>
        </field>
    </record>
</odoo>